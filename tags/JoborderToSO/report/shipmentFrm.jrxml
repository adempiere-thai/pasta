<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="shipmentFrm" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="RECORD_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT io.Documentno as ShipmentNo , bp.name as craftsman_name , jo.documentno as JobsOrderNo , jo.Daterequired , io.movementdate
    , pd.value as productCode , pd.name as productName ,pd.classification , iol.Qtyentered , uom.name as UOM
    , sol.priceentered , sol.linenetamt , so.totallines , so.grandtotal , u.name as person_in_charge  , u.description as pic_description
FROM M_InOut io
INNER JOIN M_InOutLine iol ON io.M_InOut_ID = iol.M_InOut_ID
INNER JOIN C_BPartner bp ON bp.c_Bpartner_Id = io.c_Bpartner_Id
INNER JOIN M_Product pd ON pd.m_Product_Id = iol.m_Product_Id
INNER JOIN C_OrderLine sol ON sol.C_ORderLine_ID = iol.C_OrderLine_ID
INNER JOIN C_UOM uom ON uom.c_Uom_Id = iol.c_Uom_Id
INNER JOIN C_Order so ON so.c_Order_Id = io.c_Order_Id
LEFT JOIN So_Jobsorder jo ON jo.salesorder_id = io.c_Order_Id
LEFT JOIN AD_User u ON u.ad_user_id = jo.personincharge_id
WHERE io.issotrx = 'Y'
AND io.M_InOut_ID = $P{RECORD_ID}]]>
	</queryString>
	<field name="SHIPMENTNO" class="java.lang.String"/>
	<field name="CRAFTSMAN_NAME" class="java.lang.String"/>
	<field name="JOBSORDERNO" class="java.lang.String"/>
	<field name="DATEREQUIRED" class="java.sql.Timestamp"/>
	<field name="MOVEMENTDATE" class="java.sql.Timestamp"/>
	<field name="PRODUCTCODE" class="java.lang.String"/>
	<field name="PRODUCTNAME" class="java.lang.String"/>
	<field name="CLASSIFICATION" class="java.lang.String"/>
	<field name="QTYENTERED" class="java.math.BigDecimal"/>
	<field name="UOM" class="java.lang.String"/>
	<field name="PRICEENTERED" class="java.math.BigDecimal"/>
	<field name="LINENETAMT" class="java.math.BigDecimal"/>
	<field name="TOTALLINES" class="java.math.BigDecimal"/>
	<field name="GRANDTOTAL" class="java.math.BigDecimal"/>
	<field name="PERSON_IN_CHARGE" class="java.lang.String"/>
	<field name="PIC_DESCRIPTION" class="java.lang.String"/>
	<variable name="v_LineNetAmt" class="java.math.BigDecimal" resetType="Group" resetGroup="GP_DOCUMENTNO" calculation="Sum">
		<variableExpression><![CDATA[$F{LINENETAMT}]]></variableExpression>
	</variable>
	<group name="GP_DOCUMENTNO" isStartNewPage="true">
		<groupExpression><![CDATA[$F{SHIPMENTNO}]]></groupExpression>
	</group>
	<background>
		<band height="802" splitType="Stretch">
			<line>
				<reportElement positionType="FixRelativeToBottom" stretchType="RelativeToTallestObject" x="0" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="26" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="102" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="260" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="294" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="343" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="395" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="463" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
			<line>
				<reportElement x="555" y="166" width="1" height="486"/>
				<graphicElement>
					<pen lineStyle="Dotted"/>
				</graphicElement>
			</line>
		</band>
	</background>
	<pageHeader>
		<band height="128" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="555" height="35"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Cordia New" size="16" isBold="true"/>
				</textElement>
				<text><![CDATA[ใบส่งของช่าง]]></text>
			</staticText>
			<staticText>
				<reportElement x="382" y="34" width="79" height="26"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[เลขที่ใบส่งของ]]></text>
			</staticText>
			<staticText>
				<reportElement x="382" y="61" width="79" height="17"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[วันที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="382" y="77" width="79" height="17"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[Ref. JO]]></text>
			</staticText>
			<staticText>
				<reportElement x="382" y="93" width="79" height="17"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[Ref. MR]]></text>
			</staticText>
			<staticText>
				<reportElement x="382" y="109" width="79" height="17"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[วันที่ใช้งาน]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="61" width="70" height="17"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[ชื่อช่าง]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="77" width="70" height="17"/>
				<textElement verticalAlignment="Middle">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[ผู้รับผิดชอบ]]></text>
			</staticText>
			<staticText>
				<reportElement x="70" y="61" width="5" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="70" y="76" width="5" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="34" width="5" height="26"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="77" width="5" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="61" width="5" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="93" width="5" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="109" width="5" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[:]]></text>
			</staticText>
			<textField>
				<reportElement x="467" y="35" width="75" height="25"/>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{SHIPMENTNO}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="75" y="61" width="75" height="17"/>
				<box leftPadding="2"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CRAFTSMAN_NAME}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="75" y="78" width="75" height="17"/>
				<box leftPadding="2"/>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{PERSON_IN_CHARGE}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="467" y="61" width="75" height="17"/>
				<box leftPadding="2"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[$F{MOVEMENTDATE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="467" y="77" width="75" height="17"/>
				<box leftPadding="2"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{JOBSORDERNO}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="466" y="109" width="75" height="17"/>
				<box leftPadding="2"/>
				<textElement>
					<font size="14"/>
				</textElement>
				<textFieldExpression class="java.sql.Timestamp"><![CDATA[$F{DATEREQUIRED}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="38" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="26" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[ลำดับ
ที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="26" y="0" width="76" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[รหัสวัตถุดิบ]]></text>
			</staticText>
			<staticText>
				<reportElement x="102" y="0" width="158" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[ชื่อวัตถุดิบ]]></text>
			</staticText>
			<staticText>
				<reportElement x="260" y="0" width="34" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[สี]]></text>
			</staticText>
			<staticText>
				<reportElement x="294" y="0" width="49" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[จำนวน]]></text>
			</staticText>
			<staticText>
				<reportElement x="343" y="0" width="52" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[หน่วย]]></text>
			</staticText>
			<staticText>
				<reportElement x="395" y="0" width="68" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[หน่วยละ]]></text>
			</staticText>
			<staticText>
				<reportElement x="463" y="0" width="92" height="38"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="0.0" lineStyle="Solid"/>
					<leftPen lineWidth="0.0" lineStyle="Solid"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="10" isBold="false"/>
				</textElement>
				<text><![CDATA[จำนวนเงิน]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="26" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="102" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="260" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="294" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="343" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="395" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="463" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="555" y="0" width="1" height="38"/>
			</line>
			<line>
				<reportElement x="0" y="0" width="555" height="1"/>
			</line>
			<line>
				<reportElement x="0" y="37" width="555" height="1"/>
			</line>
		</band>
	</columnHeader>
	<detail>
		<band height="22" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement x="0" y="0" width="26" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center">
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.Integer"><![CDATA[$V{COLUMN_COUNT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="26" y="0" width="76" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{PRODUCTCODE}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="102" y="0" width="158" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{PRODUCTNAME}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="260" y="0" width="34" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{CLASSIFICATION}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0">
				<reportElement x="294" y="0" width="49" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{QTYENTERED}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0">
				<reportElement x="463" y="0" width="92" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{LINENETAMT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0">
				<reportElement x="395" y="0" width="68" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{PRICEENTERED}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="">
				<reportElement x="343" y="0" width="52" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<bottomPen lineWidth="0.0" lineStyle="Solid"/>
				</box>
				<textElement>
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{UOM}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="150" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="463" height="22"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[รหัสวัตถุดิบ]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="#,##0">
				<reportElement x="463" y="0" width="92" height="22"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid"/>
					<rightPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{v_LineNetAmt}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<lastPageFooter>
		<band height="150">
			<staticText>
				<reportElement x="0" y="0" width="465" height="22"/>
				<box topPadding="2" bottomPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid"/>
					<leftPen lineWidth="1.0" lineStyle="Solid"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="12" isBold="false"/>
				</textElement>
				<text><![CDATA[รหัสวัตถุดิบ]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" pattern="#,##0">
				<reportElement x="463" y="0" width="92" height="22"/>
				<box topPadding="2" leftPadding="5" bottomPadding="2" rightPadding="5">
					<pen lineColor="#666666"/>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="12"/>
				</textElement>
				<textFieldExpression class="java.math.BigDecimal"><![CDATA[$V{v_LineNetAmt}]]></textFieldExpression>
			</textField>
		</band>
	</lastPageFooter>
</jasperReport>
